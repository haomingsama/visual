<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		
		<script src="d3.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			
			// $(function($){
			//   var URL = 'https://bustime.mta.info/api/siri/vehicle-monitoring.json?key=d60b3f05-4a87-4f51-8f3e-0418de7700ba&version=2';
			//   $.ajax({
			// 	url : URL,
			// 	type : 'GET',
			// 	dataType: 'jsonp',
			// 	crossDomain: true,
			// 	success: function(data) {
			// 	  if(data && data.resultcode == '200'){
			// 		console.log(data);
			// 	  }
			// 	}
			//   });
			//  })
			var data;
			d3.json('https://bustime.mta.info/api/siri/vehicle-monitoring.json?key=d60b3f05-4a87-4f51-8f3e-0418de7700ba&version=2').then(function(d){
				data = d;
				console.log(data)
				vehicle_array = data.Siri.ServiceDelivery.VehicleMonitoringDelivery[0].VehicleActivity
				var M31 = vehicle_array.filter(function(d){
					return d.MonitoredVehicleJourney.LineRef =='MTA NYCT_M31'	
				})
				console.log(M31)
			})
		    
	
		</script>
	</body>
</html>
